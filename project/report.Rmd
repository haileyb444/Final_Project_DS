---
title: "Exploring and Analyzing the Effects of Sleep Patterns on College Students"
output:
  html_document:
    toc: yes
    toc_float: yes
    toc_depth: '2'
    df_print: paged
  html_notebook:
    number_sections: yes
    toc: yes
    toc_depth: 2
    toc_float: yes
---

## Team Members

**Hailey Bauer**

[Contact Information](mailto:hbauer2783@floridapoly.edu)

<br>
**Nolan Nguyen**

[Contact Information](mailto:nnguyen3353@floridapoly.edu)
 

# Introduction

College students often have lots of assignments to do, early classes, and many other activities that occupy their time. All of these factors influence their sleep and therefore their mental health, physical health, and academic performance. We strive to discover how these factors influence students through the following research question:


   - What is the distribution of sleep quality among college students and are there any significant factors affecting sleep quality (drinking, stress, depression, anxiety, etc.) and is there a correlation between the number of hours slept and cognitive function scores on the skill test?
  
  
Let's explore and answer these questions.

Our project investigates 254 students who were surveyed for this sleep study including characteristics such as the quantity of early classes taken, GPA, quantity and quality of sleep, depression score, anxiety score, stress score, etc. This is our project for Foundations of Data Analytics (Fall 2023) class.

# Prerequisites

Load the following R packages required for the data analysis...

```{r}
library(tidyverse)
library(dplyr)
library(ggplot2)
```


# Data Description

First, import the dataset and set it as a variable.

```{r}
# Read the dataset
SleepStudy <- read.csv("https://raw.githubusercontent.com/haileyb444/datasets/master/SleepStudy.csv")
```

Then, take a random sample of the dataset.

```{r}
sample_n(SleepStudy, 10)
```

# Exploratory Data Analysis

First to take an initial look at the basic data statistics...

```{r}
summary(SleepStudy)
```

Next, improve the readability of the dataset...
```{r}
# Replace the indicator values in various columns so as to create an easier to read dataset.
SleepStudy["Gender"][SleepStudy["Gender"] == 0] <- "F"

SleepStudy["Gender"][SleepStudy["Gender"] == 1] <- "M"

SleepStudy["EarlyClass"][SleepStudy["EarlyClass"] == 0] <- "No"

SleepStudy["EarlyClass"][SleepStudy["EarlyClass"] == 1] <- "Yes"

SleepStudy["AllNighter"][SleepStudy["AllNighter"] == 0] <- "No"

SleepStudy["AllNighter"][SleepStudy["AllNighter"] == 1] <- "Yes"


# Change variables to be the same throughout
SleepStudy[SleepStudy == "moderate"] <- "Moderate"

SleepStudy[SleepStudy == "normal"] <- "Normal"

SleepStudy[SleepStudy == "severe"] <- "Severe"

SleepStudy[SleepStudy == "high"] <- "High"

sample_n(SleepStudy, 10)
```

## Univariate Exploration



### Sleep Quality

```{r}
SleepStudy %>% 
  ggplot() +
  geom_histogram(aes(x = PoorSleepQuality))
```


### Demographics{.tabset .tabset-fade .tabset-pills}

#### Gender

```{r}
ggplot(data = SleepStudy) +
  geom_bar(aes(x = Gender)) 
```


#### ClassYear
```{r}
ggplot(data = SleepStudy) +
  geom_bar(aes(x = ClassYear)) 
```


#### Sleep Habits
```{r}
SleepStudy %>% 
  ggplot() +
  geom_bar(aes(x = LarkOwl))
```



### Mental Factors {.tabset .tabset-fade .tabset-pills}

#### Depression
```{r}
ggplot(data = SleepStudy) +
  geom_histogram(aes(x = DepressionScore, fill = DepressionStatus)) 
```


#### Anxiety
```{r}
ggplot(data = SleepStudy) +
  geom_histogram(aes(x = AnxietyScore, fill = AnxietyStatus)) 
```


#### Stress
```{r}
ggplot(data = SleepStudy) +
  geom_histogram(aes(x = StressScore, fill = Stress)) 
```

### Alcohol
```{r}
ggplot(data = SleepStudy) +
  geom_histogram(aes(x = Drinks, fill = AlcoholUse)) 
```
Note that the students in the sleep survey self-reported their level of alcohol use (`AlcoholUse`). This causes variations to occur as each individual's understanding and criteria for the labels differ. For example, one student reported their alcohol use as "light" while stating that they drank an average of 24 alcoholic beverages per week while another student reported their alcohol use as "heavy" while drinking an average of 5 alcoholic beverages per week.

We have standardized these labels as it relates to the dataset so as to provide a more accurate result for the distribution of alcoholic beverages consumed on a weekly basis by college students and their drinking significance labels.

```{r}
# Create a new dataset with the refined drinking significance labels
AlcoholUse_Refined <- SleepStudy %>% 
  mutate(AlcoholUse_Refined = ifelse(Drinks == 0, "Abstain", 
                                     ifelse(Drinks <= 5, "Light", 
                                            ifelse(Drinks <= 9, "Moderate", "Heavy"))))
AlcoholUse_Refined
```

```{r}
ggplot(data = AlcoholUse_Refined) +
  geom_histogram(aes(x = Drinks, fill = AlcoholUse_Refined)) 
```


## Multivariate Exploration

### Sleep Quality by Significant Factors

#### Demographics

#### Alcohol Use

#### Sig Factor 3

#### Sig Factor 4

#### Sig Factor 5

### Quantity of Sleep by Cognitive Function Scores

# Data Analysis

## What is the distribution of sleep quality among college students?

## Are there any significant factors affecting sleep quality?

## Is there a correlation between the number of hours slept and cognitive function scores on the skill test?

# Conclusion

# Future Applications

# Datasets Cited






























